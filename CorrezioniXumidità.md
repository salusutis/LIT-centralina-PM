D7.6: Report on hackAIR updated support services and methodologies
20| 
512.2 Open hardware specifications2.2.1

Improvements in Arduino Code to adopt humidity correction Air  borne  particulate matter  (PM)  absorbs  humidity  from  the  air.  Therefore,the  measured  values  of  PMsensors systematically increase when the relative humidity is high. The problem is more intensive when using low-cost sensors. Depending on both humidity and the particle composition, a certain amount of water condenses on the particulate matter. As a result, the particle's effective cross section increases leading to an increased likelihood of scattering of the laser in the detector. This can lead to the effect that particles which wouldn't have usually been detected during low humidity, might well be measured in high humidity conditions.This effect cannot be modeled using a simple equation because it’s mainly determined by the composition of the particle which is usually unknown. All the efforts to find a successful equation to describe this effect empirically are under development. The common point to all efforts is that the phenomenon is not linear and is especially noticeable above 70% humidity. This can be easily understoodfrom the fact that the data sheet of the SDS011 specifies the work environment for the sensor at max 70%.In  practice,  this  means  that  all  measurements  taken at  a  humidity  level  of more  than  70%  will  contain  a significant amount of uncertainty and will becharacterized as “questionable validity”. Following previous studies,we attempt to partially minimize this effect with a correction formula by using a real time calculation of (humidity effect) readings. The design team  used  empirical formulas found  in the literature and concluded (after  conducting tests that involve comparative measurements) that the best fit results are those reported by Zbyszek Kiliański & Piotr Paul (// https://github.com/piotrkpaul/esp8266-sds011). Thus, adopted the proposed formulas as follow: data.pm25 = data.pm25 / (1.0 + 0.48756 * pow((humidity / 100.0), 8.60068));data.pm10 = data.pm10 / (1.0 + 0.81559 * pow((humidity / 100.0), 5.83411));The versioning of this implementation (recorded in GitHub) is presented below:•Add option for humidity compensation,sakisdscommitted on Nov 25, 2017 •Change humidity normalization function to something more tested, sakisdscommitted on Nov 29, 2017 •Add `humidityCompensation()` into the hackAIR class,sakisdscommitted on Mar 12 , 2018If the humidity sensor fails do not use humidity compensation, sakisdscommitted on May 6 , 2018.
